# ==========================================
# AMBIENTE
# ==========================================
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# ==========================================
# BANCO DE DADOS (PostgreSQL)
# ==========================================
USE_SQLITE=false
DB_TYPE=postgresql
DB_HOST=localhost
DB_PORT=5432
DB_NAME=agendamento
DB_USER=agendamento_user
DB_PASSWORD=agendamento_pass_2024
DB_SSL=false

# Pool de conexões
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=2
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000
DB_ACQUIRE_TIMEOUT=30000

# ==========================================
# AUTENTICAÇÃO
# ==========================================
JWT_SECRET=troque-para-um-segredo-forte
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12

# ==========================================
# WHATSAPP MULTI-TENANT
# ==========================================
START_WHATSAPP_BOT=true
# Opcional: IDs/schemas/aliases de tenants para auto start
# WHATSAPP_AUTO_START_TENANTS=

# Globais
WHATSAPP_DEFAULT_MAX_RETRIES=3
WHATSAPP_DEFAULT_RECONNECT_DELAY=5000
WHATSAPP_DEFAULT_QR_TIMEOUT=60000
WHATSAPP_DEFAULT_CONNECTION_TIMEOUT=30000

# Limpeza
WHATSAPP_CLEANUP_INTERVAL_MINUTES=5
WHATSAPP_MAX_INACTIVE_TIME_MINUTES=30

# Logs/Métricas
WHATSAPP_LOG_LEVEL=info
WHATSAPP_LOG_PREFIX=[WHATSAPP]
LOG_LEVEL=info
WHATSAPP_METRICS_ENABLED=true
WHATSAPP_METRICS_INTERVAL_SECONDS=60

# ==========================================
# SEGURANÇA / RATE LIMIT / HEADERS
# ==========================================
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=120

# Ativar sistema de alertas de segurança
ENABLE_SECURITY_ALERTS=true
# E-mail (SMTP)
SECURITY_ALERTS_EMAIL=alerts@seu-dominio.com
SMTP_HOST=smtp.seu-dominio.com
SMTP_PORT=587
SMTP_USER=usuario
SMTP_PASS=senha
SMTP_FROM=seguranca@seu-dominio.com
# Webhooks (opcionais)
SECURITY_ALERTS_SLACK_WEBHOOK=
SECURITY_ALERTS_DISCORD_WEBHOOK=

# Para validação de produção (reverse proxy/TLS na frente)
HTTPS=true

# ==========================================
# CORS / REQUESTS
# ==========================================
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
REQUEST_LIMIT=10mb

# ==========================================
# CRON JOBS
# ==========================================
ENABLE_CRON=true

# ==========================================
# CONVERSAS (BOT)
# ==========================================
CONVERSATION_TIMEOUT=1800000
MAX_QUEUE_SIZE=10
MAX_SIMILAR_MESSAGES=3
QUEUE_CLEANUP_INTERVAL=300000

# ==========================================
# BACKUP / ARQUIVOS
# ==========================================
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30
MAX_BACKUPS=10
FILES_DIR=./uploads

# ==========================================
# CACHE (Opcional)
# ==========================================
# REDIS_URL=redis://localhost:6379

# ==========================================
# WHATSAPP API (Opcional)
# ==========================================
# WHATSAPP_API_URL=https://graph.facebook.com/v17.0
# WHATSAPP_ACCESS_TOKEN=seu_token_aqui
# WHATSAPP_PHONE_NUMBER_ID=seu_phone_id_aqui
# WHATSAPP_VERIFY_TOKEN=seu_verify_token_aqui
